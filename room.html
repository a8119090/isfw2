<!DOCTYPE html>

<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <title>ルーム１ ~ 番人タイプ ~</title>

  <script type="text/javascript" src="lib/jquery.min.js"></script>
  <script type="text/javascript" src="lib/osql.js"></script>
  <link rel="stylesheet" href="style.css">
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css'>　
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <script>
    async function buttonPressed() {
      var sql = `select * from Users inner join Room1 on Users.loginid = Room1.userid order by time asc ;`;
      var objects = await osql.connect(sql);
      console.log(objects);
      var html = '';
      html = html + '<ul>';
      for (var i = 0; i < objects.length; i++) {
        var object = objects[i];
        html = html + '<li>' + object.name + '、' + object.text + '、' + object.time + '</li>';
      }
      html = html + '</ul>';
      document.getElementById('chatArea').innerHTML = html;
    }
  </script>

</head>

<body>
  <div class="container">
    <header>
      <div class='row'>
        <h1>番人タイプ</h1>
      </div>
    </header>
  </div>
  <div id="main">
    <div id="chatArea" class="offset-md-2 col-md-8">
      <button onclick="buttonPressed()">X</button>
    </div>
    <div id="submitArea">
      <textarea class="offset-md-3 col-md-4"></textarea>
      <input type="submit" class="offset-md-1 col-md-1">
    </div>
  </div>

</body>

</html>